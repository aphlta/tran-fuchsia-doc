C++ style guide =============== C ++样式指南===============

The Fuchsia project follows the public [Google C++ style guide][google-guide], with a few exceptions. 紫红色项目遵循公开的[Google C ++样式指南] [google-guide]，但有一些例外。

Using [clang-format][clang-format] is a good practice as it ensures your code is in compliance with the style guide. Tricium checks in Gerrit also use clang-format as anon-gating linter. However, you may still manually format code as long as it complieswith these guidelines. 使用[clang-format] [clang-format]是一个好习惯，因为它可以确保您的代码符合样式指南。 Gerrit中的Tricium检查还使用clang格式作为非门操作的linter。但是，只要符合这些准则，您仍然可以手动设置代码格式。

 
### Exceptions  例外情况 

 
#### Line Length  线长 

Fuchsia uses 100 columns instead of 80.  紫红色使用100列而不是80列。

 
#### Braces  大括号 

Always use braces `{ }` when the contents of a block are more than one line. This is something you need to watch since Clang-format doesn't know to addthese. 当块的内容多于一行时，请始终使用大括号“ {}”。由于Clang格式不知道添加这些内容，因此您需要注意这一点。

```cpp
// Don't do this.
while (!done)
  doSomethingWithAReallyLongLine(
       wrapped_arg);

// Correct.
while (!done) {
  doSomethingWithAReallyLongLine(
       wrapped_arg);
}
```
 

 

 
#### Conditionals and loops  条件和循环 

Do not use spaces inside parentheses (the Google style guide discourages but permits this). 请勿在括号内使用空格（Google样式指南不建议使用，但允许这样做）。

Do not use the single-line form for short conditionals and loops (the Google style guide permits both forms): 请勿将单行形式用于简短的条件和循环（Google样式指南允许两种形式）：

```cpp
// Don't do this:
if (x == kFoo) return new Foo();

// Correct.
if (x == kFoo)
  return new Foo;
```
 

 
#### Namespace Names  命名空间名称 

 
* Nested namespaces are forbidden, with the following exceptions:  *禁止使用嵌套名称空间，但以下情况除外：
  - `internal` (when required to hide implementation details of templated code)  -`internal`（当需要隐藏模板代码的实现细节时）
  - code generated by the FIDL compiler  -FIDL编译器生成的代码
* The following top-level namespaces are forbidden:  *禁止使用以下顶级名称空间：
  - `internal`  -`内部`
  - `fuchsia` (except in code generated by the FIDL compiler)  -`fuchsia`（FIDL编译器生成的代码除外）
* Namespaces in SDK libraries must be kept to as short a list as possible. A later document will provide an explicit list of allowed namespaces; in themeantime, new namespaces should be introduced thoughtfully. * SDK库中的命名空间必须保持尽可能短的列表。更高版本的文档将提供允许的名称空间的明确列表。在主题转换期间，应谨慎地引入新的名称空间。
* Namespaces in non-SDK libraries should also be chosen so as to reduce the risk of clashes. Very generic nouns (eg. `media`) are best avoided. *还应选择非SDK库中的命名空间，以减少发生冲突的风险。最好避免使用非常通用的名词（例如“ media”）。

Rationale: [Tip of the Week #130: Namespace Naming][totw-130]  理由：[每周技巧130：命名空间命名] [totw-130]

[clang-format]: https://clang.llvm.org/docs/ClangFormat.html [google-guide]: https://google.github.io/styleguide/cppguide.html[totw-130]: https://abseil.io/tips/130 [clang格式]：https：//clang.llvm.org/docs/ClangFormat.html [google-guide]：https：//google.github.io/styleguide/cppguide.html [totw-130]：https： //abseil.io/tips/130

 
#### Includes  包括 

 
1. If the header being included is a system, global, or library header (see [Naming C/C++ objects](naming.md) for precise definitions), use`<angle brackets>` and the complete name of the header. These headers areconsidered "C library headers" for the purposes of the Google C++ StyleGuide: 1.如果包含的标头是系统标头，全局标头或库标头（有关准确定义，请参见[命名C / C ++对象]（naming.md）），请使用<尖括号>和标头的全名。为了Google C ++ StyleGuide的目的，这些标头被视为“ C库标头”：

```cpp
#include <zircon/syscalls.h>           # System header
#include <fuchsia/io/cpp/fidl.h>       # Global header
#include <lib/fdio/fd.h>               # Library header
```
 

 
2. If the header being included is a implementation header, use `"quotes"` and use the full path to the header from the root of the source tree. Theseheaders are considered "your project's headers" for the purposes of theGoogle C++ Style Guide: 2.如果包含的标头是实现标头，请使用“引号”，并使用从源树的根到标头的完整路径。就《 Google C ++样式指南》而言，这些标题被视为“您项目的标题”：

```cpp
#include "src/ledger/bin/filesystem/detached_path.h"
```
 

 
3. Third-party headers can be included using the root-relative path (e.g. `#include "third_party/skia/include/core/SkPaint.h"`) or using their canonical headernames (e.g. `#include <gtest/gtest.h>`). 3.可以使用根相对路径（例如，“ include“ third_party / skia / include / core / SkPaint.h””）或使用其规范的标头名称（例如，包括<gtest / gtest.h> `）。

 
