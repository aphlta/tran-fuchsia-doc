 
# Bindings Specification  装订规范 

This document is a specification of requirements on the Fuchsia Interface Definition Language (**FIDL**) bindings. 本文档是对紫红色接口定义语言（** FIDL **）绑定的要求的规范。

In this document, the following keywords are to be interpreted as described in [RFC2119][RFC2119]: **MAY**, **MUST**, **MUST NOT**, **OPTIONAL**,**RECOMMENDED**, **REQUIRED**, **SHALL**, **SHALL NOT**, **SHOULD**,**SHOULD NOT**. 在本文档中，以下关键字将按照[RFC2119] [RFC2119]中的说明进行解释：** MAY **，**必须**，**必须**，**可选**，**推荐* *，**必填**，** SHALL **，** SHALL NOT **，** SHOULD **，** SHOULD NOT **。

 
## Requirements  要求 

Items described in this section **MUST** be met for bindings to be considered conformant. **必须满足本节中描述的内容，才能将绑定视为符合要求。

 
### Generated Code Indication  生成的代码指示 

A comment must be placed at the top of machine-generated code to indicate it is machine generated.For languages with a standard on how to indicate generated sources (as opposedto human-written code), that standard must be followed.. 必须在机器生成的代码的顶部放置注释以指示它是机器生成的。对于具有有关如何指示生成的源的标准（与人工编写的代码相反）的语言，必须遵循该标准。

In [Go][go-generated-code-comment] for instance, generated sources must be marked with a comment following the pattern 例如，在[Go] [go-generated-code-comment]中，必须在模式之后用注释标记生成的源

```go
// Code generated by <tool>; DO NOT EDIT.
```
 

 
## Recommendations  推荐建议 

Items described in this section **SHOULD** be met for bindings to be considered conformant. 绑定应符合本节** SHOULD **中所述的内容，以被视为符合要求。

_TODO_  _去做_

 
## Best Practices  最佳实践 

Items described in this section **MAY** be met for bindings to be considered conformant. ** MAY **中描述的项目将被视为符合要求的绑定。

 
### Bits Support  比特支持 

It is RECOMMENDED to support the following operators over generated values:  建议在生成的值上支持以下运算符：

 
* bitwise and, i.e `&`  *按位，即``
* bitwise or, i.e `|`  *按位或，即`|`
* bitwise exclusive-or, i.e `^`  *按位异或，即`^`
* bitwise not, i.e `~`  *不按位，即`〜`

To provide bitwise operations which always result in valid bits values, implementations of bitwise not should further mask the resulting value withthe mask of all values. In pseudo code: 为了提供总是产生有效位值的按位运算，按位的实现不应使用所有值的掩码进一步屏蔽结果值。用伪代码：

```
~value1   means   mask & ~bits_of(value1)
```
 

This mask value is provided in the [JSON IR][jsonir] for convenience.  为了方便起见，[JSON IR] [jsonir]中提供了此掩码值。

Bindings SHOULD NOT support other operators since they could result in invalid bits value (or risk a non-obvious translation of their meaning), e.g.: 绑定不应该支持其他运算符，因为它们可能导致无效的位值（或冒其含义的明显转换），例如：

 
* bitwise shifts, i.e `<<` or `>>`  *按位移位，即`<<`或`>>`
* bitwise unsigned shift, i.e `>>>`  *按位无符号移位，即`>>>`

 
### Union Support  联盟支持 

_This section applies to flexible unions as well as the soon to be deprecated unions_ _此部分适用于灵活的工会以及即将弃用的工会_

For languages without union types and literals for these, it is RECOMMENDED to support factory methods for constructing new unions/xunions given a value forone of the possible variants. For example, in a C like language, this wouldallow replacing code like: 对于没有联合类型和这些类型的文字的语言，建议支持工厂方法以构造新的联合/轴心（给定一种可能的变体的值）。例如，在类似C的语言中，这将允许替换如下代码：

```C
my_union_t foo;
foo.set_variant(bar);
do_stuff(foo);
```
 

with something like:  与类似：

```C
do_stuff(my_union_with_variant(bar));
```
 

Examples of this for the [HLCPP](https://fuchsia-review.googlesource.com/c/fuchsia/+/309246/) and[Go](https://fuchsia-review.googlesource.com/c/fuchsia/+/313205/) bindings. [HLCPP]（https://fuchsia-review.googlesource.com/c/fuchsia/+/309246/）和[Go]（https://fuchsia-review.googlesource.com/c/fuchsia）的示例/ + / 313205 /）绑定。

 
## Related Documents  相关文件 

 
* [FTP-024: Mandatory Source Compatibility][ftp024]  * [FTP-024：强制性源兼容性] [ftp024]

